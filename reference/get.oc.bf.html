<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get Operating Characteristics for the BF-BOIN Design — get.oc.bf • bfboin</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get Operating Characteristics for the BF-BOIN Design — get.oc.bf"><meta name="description" content="Get Operating Characteristics for the BF-BOIN Design"><meta property="og:description" content="Get Operating Characteristics for the BF-BOIN Design"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bfboin</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Compare_to_original_BOIN.html">Compare_to_original_BOIN</a></li>
    <li><a class="dropdown-item" href="../articles/Compare_to_publication.html">Compare to publication</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Get Operating Characteristics for the BF-BOIN Design</h1>

      <div class="d-none name"><code>get.oc.bf.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Get Operating Characteristics for the BF-BOIN Design</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get.oc.bf</span><span class="op">(</span></span>
<span>  ntrial <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">3262</span>,</span>
<span>  target <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>  p.true <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  ncohort <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  cohortsize <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  n.earlystop <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  startdose <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  titration <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  p.saf <span class="op">=</span> <span class="fl">0.6</span> <span class="op">*</span> <span class="va">target</span>,</span>
<span>  p.tox <span class="op">=</span> <span class="fl">1.4</span> <span class="op">*</span> <span class="va">target</span>,</span>
<span>  cutoff.eli <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  extrasafe <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  offset <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  boundMTD <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  n.cap <span class="op">=</span> <span class="fl">12</span>,</span>
<span>  end.backfill <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n.per.month <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  dlt.window <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  p.response.true <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  three.plus.three <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  accrual <span class="op">=</span> <span class="st">"uniform"</span>,</span>
<span>  backfill.assign <span class="op">=</span> <span class="st">"highest"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-ntrial">ntrial<a class="anchor" aria-label="anchor" href="#arg-ntrial"></a></dt>
<dd><p>the total number of trials to be simulated</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>the random number seed for simulation</p></dd>


<dt id="arg-target">target<a class="anchor" aria-label="anchor" href="#arg-target"></a></dt>
<dd><p>the target DLT rate</p></dd>


<dt id="arg-p-true">p.true<a class="anchor" aria-label="anchor" href="#arg-p-true"></a></dt>
<dd><p>a vector containing the true toxicity probabilities of the
investigational dose levels.</p></dd>


<dt id="arg-ncohort">ncohort<a class="anchor" aria-label="anchor" href="#arg-ncohort"></a></dt>
<dd><p>the total number of cohorts</p></dd>


<dt id="arg-cohortsize">cohortsize<a class="anchor" aria-label="anchor" href="#arg-cohortsize"></a></dt>
<dd><p>the cohort size</p></dd>


<dt id="arg-n-earlystop">n.earlystop<a class="anchor" aria-label="anchor" href="#arg-n-earlystop"></a></dt>
<dd><p>the early stopping parameter. If the number of patients
treated at the current dose reaches <code>n.earlystop</code>,
stop the trial and select the MTD based on the observed data.
The default value <code>n.earlystop=100</code> essentially turns
off this type of early stopping.</p></dd>


<dt id="arg-startdose">startdose<a class="anchor" aria-label="anchor" href="#arg-startdose"></a></dt>
<dd><p>the starting dose level for the trial</p></dd>


<dt id="arg-titration">titration<a class="anchor" aria-label="anchor" href="#arg-titration"></a></dt>
<dd><p>set <code>titration=TRUE</code> to perform dose escalation with cohort size = 1 to accelerate dose escalation at the begining of the trial.</p></dd>


<dt id="arg-p-saf">p.saf<a class="anchor" aria-label="anchor" href="#arg-p-saf"></a></dt>
<dd><p>the highest toxicity probability that is deemed subtherapeutic
(i.e. below the MTD) such that dose escalation should be undertaken.
The default value is <code>p.saf=0.6*target</code>.</p></dd>


<dt id="arg-p-tox">p.tox<a class="anchor" aria-label="anchor" href="#arg-p-tox"></a></dt>
<dd><p>the lowest toxicity probability that is deemed overly toxic such
that deescalation is required. The default value is
<code>p.tox=1.4*target</code>).</p></dd>


<dt id="arg-cutoff-eli">cutoff.eli<a class="anchor" aria-label="anchor" href="#arg-cutoff-eli"></a></dt>
<dd><p>the cutoff to eliminate an overly toxic dose for safety.
We recommend the default value of (<code>cutoff.eli=0.95</code>) for general use.</p></dd>


<dt id="arg-extrasafe">extrasafe<a class="anchor" aria-label="anchor" href="#arg-extrasafe"></a></dt>
<dd><p>set <code>extrasafe=TRUE</code> to impose a more stringent stopping rule</p></dd>


<dt id="arg-offset">offset<a class="anchor" aria-label="anchor" href="#arg-offset"></a></dt>
<dd><p>a small positive number (between <code>0</code> and <code>0.5</code>) to control how strict the
stopping rule is when <code>extrasafe=TRUE</code>. A larger value leads to a more
strict stopping rule. The default value <code>offset=0.05</code> generally works well.</p></dd>


<dt id="arg-boundmtd">boundMTD<a class="anchor" aria-label="anchor" href="#arg-boundmtd"></a></dt>
<dd><p>set <code>boundMTD=TRUE</code> to impose the condition: the isotonic estimate of toxicity probability
for the selected MTD must be less than de-escalation boundary.</p></dd>


<dt id="arg-n-cap">n.cap<a class="anchor" aria-label="anchor" href="#arg-n-cap"></a></dt>
<dd><p>permanently close a dose for backfilling if the number of patients assigned
to the dose reaches <code>n.cap</code></p></dd>


<dt id="arg-end-backfill">end.backfill<a class="anchor" aria-label="anchor" href="#arg-end-backfill"></a></dt>
<dd><p>when the dose escalation ends, the backfilling by definition also ends. Default is TRUE.</p></dd>


<dt id="arg-n-per-month">n.per.month<a class="anchor" aria-label="anchor" href="#arg-n-per-month"></a></dt>
<dd><p>patient accrual rate per month</p></dd>


<dt id="arg-dlt-window">dlt.window<a class="anchor" aria-label="anchor" href="#arg-dlt-window"></a></dt>
<dd><p>DLT assessment window (months)</p></dd>


<dt id="arg-p-response-true">p.response.true<a class="anchor" aria-label="anchor" href="#arg-p-response-true"></a></dt>
<dd><p>a vector containing the true response probabilities of the
investigational dose levels</p></dd>


<dt id="arg-three-plus-three">three.plus.three<a class="anchor" aria-label="anchor" href="#arg-three-plus-three"></a></dt>
<dd><p>modify the decision from de-escalation to stay when observing
1 DLT out of 3 patients</p></dd>


<dt id="arg-accrual">accrual<a class="anchor" aria-label="anchor" href="#arg-accrual"></a></dt>
<dd><p>"uniform" or "poisson", according to whether accrual distribution is uniform
(consistent with Shiny App) or a Poisson process (consistent with publication)</p></dd>


<dt id="arg-backfill-assign">backfill.assign<a class="anchor" aria-label="anchor" href="#arg-backfill-assign"></a></dt>
<dd><p>How to assign backfill dose given the open backfill doses. Options are
"highest" (default), "lowest", or "random".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>get.oc.bf()</code> returns the operating characteristics of the BOIN design as a list,
       including:
       (1) selection percentage at each dose level (<code>$selpercent</code>),
       (2) the average number of patients treated at each dose level (<code>$npatients</code>),
       (3) the percentage of patients treated at each dose level on average (<code>$percentpatients</code>),
       (4) the average number of toxicities observed at each dose level (<code>$ntox</code>),
       (5) the average number of toxicities in total (<code>$totaltox</code>),
       (6) the average number of patients in total(<code>$totaln</code>),
       (7) the percentage of early stopping without selecting the MTD (<code>$percentstop</code>),
       (8) the average duration of the trial (<code>duration</code>).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Zhao Y, Yuan Y, Korn EL, Freidlin B. Backfilling patients in phase I dose-escalation trials using Bayesian optimal interval design (BOIN). Clinical Cancer Research. 2024 Feb 16;30(4):673-9.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Shiny app: <a href="https://biostatistics.mdanderson.org/shinyapps/BF-BOIN/" class="external-link">https://biostatistics.mdanderson.org/shinyapps/BF-BOIN/</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">get.oc.bf</span><span class="op">(</span>ntrial <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>          seed <span class="op">=</span> <span class="fl">9</span>,</span></span>
<span class="r-in"><span>          target <span class="op">=</span> <span class="fl">0.25</span>,</span></span>
<span class="r-in"><span>          p.true <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>          ncohort <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>          cohortsize <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>          n.earlystop <span class="op">=</span> <span class="fl">9</span>,</span></span>
<span class="r-in"><span>          startdose <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>          titration <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>          cutoff.eli <span class="op">=</span> <span class="fl">0.95</span>,</span></span>
<span class="r-in"><span>          extrasafe <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>          offset <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>          boundMTD<span class="op">=</span><span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>          n.cap <span class="op">=</span> <span class="fl">12</span>,</span></span>
<span class="r-in"><span>          end.backfill <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>          n.per.month <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>          dlt.window <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>          p.response.true <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="fl">0.001</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $selpercent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 78.7 17.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $npatients</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1      2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10.890  7.638 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $percentpatients</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        1        2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58.77591 41.22409 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ntox</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1     2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1.057 3.877 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $totaltox</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4.934</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $totaln</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 18.528</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $percentstop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $duration</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 21.29058</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dominic Magirr, Bairu Zhang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

